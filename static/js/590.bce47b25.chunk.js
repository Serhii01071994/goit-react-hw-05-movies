"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[590],{615:function(e,t,n){n(791);var r=n(184);t.Z=function(e){var t=e.message;return(0,r.jsx)("p",{className:"error",children:t})}},590:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(861),s=n(439),a=n(757),c=n.n(a),i=n(615),u=n(263),o=n(545),l=n(184),d=function(e){var t=e.moviesDetails;return(0,l.jsxs)("div",{className:"movie-deteils",children:[(0,l.jsx)("div",{className:"poster",children:(0,l.jsx)("img",{src:(0,o.G0)(null===t||void 0===t?void 0:t.poster_path),alt:null===t||void 0===t?void 0:t.original_title,width:300})}),(0,l.jsxs)("div",{className:"details",children:[(0,l.jsxs)("h1",{className:"title",children:[null===t||void 0===t?void 0:t.original_title," (",null===t||void 0===t?void 0:t.release_date.slice(0,4),")"]}),(0,l.jsxs)("p",{className:"text",children:["User score: ",Math.round(10*(null===t||void 0===t?void 0:t.vote_average)),"%"]}),(0,l.jsx)("h2",{className:"under-title",children:"Overview"}),(0,l.jsx)("p",{className:"text",children:null===t||void 0===t?void 0:t.overview}),(0,l.jsx)("h2",{className:"under-title",children:"Genres"}),(0,l.jsx)("p",{className:"text",children:null===t||void 0===t?void 0:t.genres.map((function(e){return(0,l.jsxs)("span",{children:[e.name," "]},e.id)}))})]})]})},v=n(791),p=n(689),f=n(87),h=function(){var e=(0,p.UO)().movieId,t=(0,v.useState)(null),n=(0,s.Z)(t,2),a=n[0],d=n[1],f=(0,v.useState)(!1),h=(0,s.Z)(f,2),m=h[0],x=h[1],j=(0,v.useState)(null),g=(0,s.Z)(j,2),w=g[0],Z=g[1];return(0,v.useEffect)((function(){var t=function(){var t=(0,r.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),t.next=4,(0,o.uV)(e);case 4:n=t.sent,d(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Z(t.t0.message);case 11:return t.prev=11,x(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),0===(null===a||void 0===a?void 0:a.length)?(0,l.jsx)("p",{children:"No info"}):(0,l.jsxs)("div",{className:"actor-card",children:[m&&(0,l.jsx)(u.Z,{}),w&&(0,l.jsx)(i.Z,{message:w}),a&&a.map((function(e){return(0,l.jsxs)("div",{className:"actor",children:[(0,l.jsx)("img",{src:(0,o.G0)(e.profile_path),alt:e.original_name,width:150}),(0,l.jsx)("p",{className:"under-title",children:e.original_name}),(0,l.jsxs)("p",{className:"text",children:["Character: ",e.character]})]},e.id)}))]})},m=function(){var e=(0,p.UO)().movieId,t=(0,v.useState)(null),n=(0,s.Z)(t,2),a=n[0],d=n[1],f=(0,v.useState)(!1),h=(0,s.Z)(f,2),m=h[0],x=h[1],j=(0,v.useState)(null),g=(0,s.Z)(j,2),w=g[0],Z=g[1];return(0,v.useEffect)((function(){var t=function(){var t=(0,r.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),t.next=4,(0,o.Hx)(e);case 4:n=t.sent,d(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Z(t.t0.message);case 11:return t.prev=11,x(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),0===(null===a||void 0===a?void 0:a.length)?(0,l.jsx)("p",{children:"No info"}):(0,l.jsxs)("div",{children:[m&&(0,l.jsx)(u.Z,{}),w&&(0,l.jsx)(i.Z,{message:w}),a&&a.map((function(e){return(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"under-title",children:e.author}),(0,l.jsx)("p",{className:"text",children:e.content})]},e.author)}))]})},x=n(34),j=function(e){var t,n,r,s,a=e.location;return(0,l.jsx)(x.$r,{children:(0,l.jsxs)("div",{className:"inform",children:[(0,l.jsx)(f.rU,{to:"cast",state:{from:null!==(t=null===(n=a.state)||void 0===n?void 0:n.from)&&void 0!==t?t:"/"},className:"go-back",children:"Cast"}),(0,l.jsx)(f.rU,{to:"reviews",state:{from:null!==(r=null===(s=a.state)||void 0===s?void 0:s.from)&&void 0!==r?r:"/"},className:"go-back",children:"Reviews"})]})})},g=function(){var e,t,n=(0,p.UO)().movieId,a=(0,p.TH)(),g=(0,v.useRef)(null!==(e=null===(t=a.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"),w=(0,v.useState)(null),Z=(0,s.Z)(w,2),k=Z[0],N=Z[1],b=(0,v.useState)(!1),_=(0,s.Z)(b,2),y=_[0],S=_[1],U=(0,v.useState)(null),G=(0,s.Z)(U,2),C=G[0],I=G[1];return(0,v.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,(0,o.Y5)(n);case 4:t=e.sent,N(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),I(e.t0.message);case 11:return e.prev=11,S(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,l.jsx)(x.Fg,{children:(0,l.jsxs)("div",{className:"container",children:[y&&(0,l.jsx)(u.Z,{}),C&&(0,l.jsx)(i.Z,{message:C}),(0,l.jsx)(f.rU,{to:g.current,className:"go-back",children:"Go Back"}),(0,l.jsx)(d,{moviesDetails:k}),(0,l.jsx)(j,{location:a}),(0,l.jsxs)(p.Z5,{children:[(0,l.jsx)(p.AW,{path:"cast",element:(0,l.jsx)(h,{})}),(0,l.jsx)(p.AW,{path:"reviews",element:(0,l.jsx)(m,{})})]})]})})}},545:function(e,t,n){n.d(t,{G0:function(){return f},Hx:function(){return p},Y5:function(){return d},bI:function(){return l},ss:function(){return o},uV:function(){return v}});var r=n(861),s=n(757),a=n.n(s),c=n(924),i="02cdb7a51a2e3d1e8057374db8e49782",u="https://api.themoviedb.org/3",o=function(){var e=(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(u,"/trending/movie/week?api_key=").concat(i));case 2:return t=e.sent,n=t.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(u,"/search/movie?api_key=").concat(i,"&query=").concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(u,"/movie/").concat(t,"?api_key=").concat(i));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(u,"/movie/").concat(t,"/credits?api_key=").concat(i));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.cast);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(u,"/movie/").concat(t,"/reviews?api_key=").concat(i));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return e?"https://image.tmdb.org/t/p/w300/".concat(e):"https://shop-cdn1-2.vigbo.tech/shops/126035//products/21752720/images/2-e62e01f93c697739149c01b31defa96b.jpg?version=undefined"}}}]);
//# sourceMappingURL=590.bce47b25.chunk.js.map